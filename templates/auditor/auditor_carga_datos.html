{% extends 'auditor/base_auditor.html' %}
{% load static %}

{% block title %}Carga de datos (solo lectura) - DataEasy{% endblock %}

{% block styles %}
<link rel="stylesheet" href="{% static 'css/carga_datos.css' %}">
<style>
  .card { background:#fff; border-radius:10px; padding:16px; box-shadow:0 4px 12px rgba(0,0,0,.05); }
  .muted { color:#666; }
  .grid { display:grid; gap:16px; grid-template-columns: 1fr; }
  @media(min-width:900px){ .grid{ grid-template-columns: 1.2fr .8fr; } }
  .fake-upload { border:2px dashed #d0d7de; padding:18px; border-radius:12px; text-align:center; }
  .fake-upload input[type="file"]{ display:block; margin:10px auto; }
  .warn { background:#fef9c3; border:1px solid #fde68a; color:#92400e; padding:10px 12px; border-radius:10px; }
  .locked { opacity:.55; pointer-events:none; }
  .kbd { font-family:ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", monospace; background:#f6f8fa; border:1px solid #d0d7de; border-radius:6px; padding:2px 6px; }
</style>
{% endblock %}

{% block content %}
<h2>üì• Carga de datos (Solo lectura)</h2>
<p class="muted">Esta secci√≥n permite a los administradores cargar planillas. Como auditor, puedes
ver el formato esperado y las instrucciones, pero no puedes efectuar cargas.</p>

<div class="grid">
  <section class="card">
    <h3>Formato de la planilla</h3>
    <p class="muted">La planilla debe incluir, al menos, las siguientes columnas:</p>
    <ul>
      <li><span class="kbd">codigo</span> ‚Äî Identificador √∫nico del producto</li>
      <li><span class="kbd">nombre_producto</span> ‚Äî Texto</li>
      <li><span class="kbd">categoria</span> ‚Äî Texto</li>
      <li><span class="kbd">marca</span> ‚Äî Texto</li>
      <li><span class="kbd">stock_actual</span> ‚Äî N√∫mero</li>
      <li><span class="kbd">stock_minimo</span> ‚Äî N√∫mero</li>
      <li><span class="kbd">precio_unitario</span> ‚Äî N√∫mero (opcional)</li>
    </ul>

    <div class="warn" style="margin-top:10px;">
      ‚ö†Ô∏è Para evitar errores: no dejes columnas vac√≠as entre medio, respeta nombres y tipos.
    </div>
  </section>

  <section class="card">
    <h3>Subir archivo</h3>
    <p class="muted">Solo administradores pueden subir. Esta acci√≥n est√° bloqueada para auditores.</p>

    <div class="fake-upload locked">
      <p style="margin:0 0 6px;">Selecciona archivo (.xlsx, .csv)</p>
      <input type="file" disabled>
      <button type="button" disabled class="btn">Subir</button>
      <p class="muted" style="margin-top:8px;">Permisos requeridos: <strong>Admin</strong></p>
    </div>
  </section>
</div>

<section class="card" style="margin-top:16px;">
  <h3>Instrucciones r√°pidas</h3>
  <ol>
    <li>Valida que tu archivo cumpla con el formato anterior.</li>
    <li>Contacta a un <strong>Administrador</strong> para ejecutar la carga.</li>
    <li>Verifica luego en <em>üìä Estad√≠sticas</em> o <em>Inventario</em> que los datos se reflejen correctamente.</li>
  </ol>
</section>
{% endblock %}

{% block scripts %}
<script>
  // Evita cualquier intento de interacci√≥n
  document.addEventListener('click', (e) => {
    const locked = e.target.closest('.locked');
    if (locked) {
      e.preventDefault();
      alert('üîí Funci√≥n solo disponible para administradores.');
    }
  });
</script>
{% endblock %}
