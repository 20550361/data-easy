{% extends 'auditor/base_auditor.html' %}

{% load static %}

{% block title %}Usuarios (Auditor) - DataEasy{% endblock %}

{% block styles %}
<style>
  .badge { padding: 4px 8px; border-radius: 12px; font-size: 0.8em; font-weight: bold; }
  .badge-admin { background-color: #f8d7da; color: #721c24; }
  .badge-staff { background-color: #fff3cd; color: #856404; }
  .badge-user { background-color: #e2e3e5; color: #383d41; }
</style>
{% endblock %}

{% block content %}
<h2>ðŸ‘¥ Usuarios del sistema</h2>
<p>Listado de cuentas y roles (solo lectura).</p>

<div class="table-container">
  <table>
    <thead>
      <tr>
        <th>Usuario</th>
        <th>Email</th>
        <th>Rol</th>
        <th>Miembro desde</th>
      </tr>
    </thead>
    <tbody>
      {% for usuario in lista_usuarios %}
      <tr>
        <td><strong>{{ usuario.username }}</strong></td>
        <td>{{ usuario.email|default:"N/A" }}</td>
        <td>
          {% if usuario.is_superuser %}
            <span class="badge badge-admin">Super Admin</span>
          {% elif usuario.is_staff %}
            <span class="badge badge-staff">Staff</span>
          {% else %}
            <span class="badge badge-user">Usuario</span>
          {% endif %}
        </td>
        <td>{{ usuario.date_joined|date:"d M Y" }}</td>
      </tr>
      {% empty %}
      <tr>
        <td colspan="4">No se encontraron usuarios.</td>
      </tr>
      {% endfor %}
    </tbody>
  </table>
</div>
{% endblock %}
